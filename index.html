<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Earn Pro Max</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        :root { --p: #E2136E; --bg: #f4f4f4; }
        body { font-family: Arial; background: var(--bg); margin: 0; text-align: center; }
        .nav { background: var(--p); color: white; padding: 15px; display: flex; justify-content: space-between; }
        .card { background: white; margin: 20px; padding: 20px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        input { width: 80%; padding: 12px; margin: 10px; border: 1px solid #ddd; border-radius: 8px; }
        button { background: var(--p); color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; font-weight: bold; width: 90%; }
        button:disabled { background: #ccc; }
    </style>
</head>
<body>

<div id="auth">
    <div class="card">
        <h2 style="color:var(--p)">Earn Pro Max</h2>
        <input id="ph" type="number" placeholder="ফোন নম্বর">
        <input id="ps" type="password" placeholder="পাসওয়ার্ড">
        <button onclick="login()">লগইন</button>
        <button onclick="signup()" style="background:#444; margin-top:10px;">রেজিস্ট্রেশন</button>
    </div>
</div>

<div id="app" style="display:none">
    <div class="nav">
        <span id="uName">ইউজার</span>
        <span id="uBal">৳ ০.০০</span>
    </div>
    <div class="card">
        <h3>অ্যাড দেখে আয়</h3>
        <button id="adBtn" onclick="watchAd()">বিজ্ঞাপন দেখুন (৳৪.৯০)</button>
    </div>
    <div class="card" style="border: 2px dashed var(--p);">
        <p>আপনার রেফার কোড:</p>
        <b id="uRef" style="color:var(--p)">---</b>
    </div>
    <button onclick="logout()" style="background:#444; width: 50%; margin-top: 20px;">লগআউট</button>
</div>

<script>
    // তোমার ৬৪৭৮ নং স্ক্রিনশট থেকে নেওয়া কনফিগ
    const firebaseConfig = {
        apiKey: "AIzaSyAdF9umElHCNQcclyWRkKVFXyNSqXS3FIM",
        authDomain: "free-income-48f88.firebaseapp.com",
        projectId: "free-income-48f88",
        databaseURL: "https://free-income-48f88-default-rtdb.firebaseio.com/",
        appId: "1:559465076876:web:93d3aa1f898d062053c3a9"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function signup() {
        let p = document.getElementById('ph').value, s = document.getElementById('ps').value;
        if(p.length >= 11 && s.length >= 6) {
            db.ref('users/'+p).set({name: "User-"+p, pass: s, balance: 0}).then(()=>alert("রেজিস্ট্রেশন সফল!"));
        } else alert("নম্বর ১১ এবং পাসওয়ার্ড ৬ ডিজিট দিন");
    }

    function login() {
        let p = document.getElementById('ph').value, s = document.getElementById('ps').value;
        db.ref('users/'+p).once('value', snap => {
            if(snap.exists() && snap.val().pass == s) {
                localStorage.setItem('user', p);
                location.reload();
            } else alert("ভুল তথ্য!");
        });
    }

    let user = localStorage.getItem('user');
    if(user) {
        document.getElementById('auth').style.display = 'none';
        document.getElementById('app').style.display = 'block';
        document.getElementById('uRef').innerText = user;
        db.ref('users/'+user).on('value', snap => {
            let d = snap.val();
            document.getElementById('uName').innerText = d.name;
            document.getElementById('uBal').innerText = "৳ " + d.balance.toFixed(2);
        });
    }

    function watchAd() {
        window.open("https://www.effectivegatecpm.com/w6arakqmr0?key=cfe5b3bf60645ca848c57f56fdc4be23", "_blank");
        let btn = document.getElementById('adBtn');
        btn.disabled = true;
        setTimeout(() => {
            db.ref('users/'+user).once('value', snap => {
                let newBal = (snap.val().balance || 0) + 4.90;
                db.ref('users/'+user).update({balance: newBal}).then(() => {
                    alert("টাকা যোগ হয়েছে!");
                    btn.disabled = false;
                });
            });
        }, 5000);
    }
    function logout() { localStorage.clear(); location.reload(); }
</script>
</body>
</html>
